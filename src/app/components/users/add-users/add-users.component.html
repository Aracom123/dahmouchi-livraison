<div class="container" *ngIf="userFormGroup">
    <div class="col-9 formulaire">
        <h1 class="h3 mb-0 text-gray-800 text-center font-weight-bold text-uppercase">Ajout d'un utilisateur</h1>
        <br>
        <form [formGroup]="userFormGroup" (ngSubmit)="onSubmit()">
            <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-12">
                    <div class="form-group">
                        <label for="">Nom</label>
                        <input type="text" class="form-control" formControlName="nom">
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-12">
                    <div class="form-group">
                        <label for="">Prénom</label>
                        <input type="text" class="form-control" formControlName="prenom">
                    </div>
                </div>
            </div>
            <div class="row py-2">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <label for="">E-mail</label>
                    <input type="text" class="form-control" placeholder="email@gmail.com" formControlName="email" 
                    [ngClass]="{'is-invalid':submitted && userFormGroup.controls.email.errors}">
                    <div *ngIf="submitted && userFormGroup.controls.email.errors" class="invalid-feedback">
                        <div *ngIf="userFormGroup.controls.email.errors.required">E-mail is required</div>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-12">
                    <!-- <div class="form-group">
                        <label for="mag">Magasin rattaché</label>
                        <select name="magasin" id="mag" class="form-control" formControlName="magasin">
                            <option value="">Selectionnez un magasin</option>
                            <option *ngFor="let magasin of magasins; let k=index" [ngValue]="magasin">
                                {{magasin.libelle}}
                            </option>
                        </select>
                    </div> -->
                </div>                
            </div>
            <div class="row py-2">
                <div class="col-lg-6 col-md-6 col-sm-12">
                    <div class="form-group">
                        <label for="">Profile</label>
                        <select name="profile" id="" class="form-control" formControlName="profile"
                            [ngClass]="{'is-invalid':submitted && userFormGroup.controls.profile.errors}">
                            <option value="" disabled>Selectionnez le role</option>
                            <option *ngFor="let profile of profiles" [ngValue]="profile">
                                {{profile.libelle}}
                            </option>
                        </select>
                        <div *ngIf="submitted && userFormGroup.controls.profile.errors" class="invalid-feedback">
                            <div *ngIf="userFormGroup.controls.profile.errors.required">Profile is required</div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-12">
                    <label for="">Login</label>
                    <input type="text" class="form-control" placeholder="login" formControlName="login" 
                    [ngClass]="{'is-invalid':submitted && userFormGroup.controls.login.errors}" autocomplete="false">
                    <div *ngIf="submitted && userFormGroup.controls.login.errors" class="invalid-feedback">
                        <div *ngIf="userFormGroup.controls.login.errors.required">Login is required</div>
                    </div>
                </div>
                
            </div>
            <div class="row py-2">
                <div class="col-lg-5 col-md-5 col-sm-12">
                    <div class="form-group">
                        <label for="">Mot de passe</label>
                        <input type="password" class="form-control" placeholder="mot de passe" formControlName="motdepasse" 
                        [ngClass]="{'is-invalid':submitted && userFormGroup.controls.motdepasse.errors}">
                        <div class="err" *ngIf="submitted && f.motdepasse.errors">
                            <div *ngIf="f.motdepasse.errors.required">Password is required</div>
                            <div *ngIf="f.motdepasse.errors.minlength">Password At least 5 character</div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-5 col-md-5 col-sm-12">
                    <div class="form-group">
                        <label for="">Mot de passe de Confirmation</label>
                        <input type="password" class="form-control" placeholder="Comfirmer votre mot de passe" formControlName="confirmmotdepasse">
                        <div class="err" *ngIf="submitted && f.confirmmotdepasse.errors">
                            <div *ngIf="f.confirmmotdepasse.errors.required">confirmPassword is required</div>
                            <div *ngIf="f.confirmmotdepasse.errors.MustMutch">confirmPassword didn't mutch</div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2 col-md-2 col-sm-12">
                    <div class="form-group float-right">
                        <br><br>
                        <input class="form-check-input" type="checkbox" formControlName="statut" id="actif">
                        <label class="form-check-label" for="actif">Actif</label><br>
                    </div>
                </div>
            </div>

            <div class="form-group text-right">
                <button class="btn btn-danger" (click)="redirection('users')"><i class="fa fa-times"></i>&nbsp;Retourner</button>
                &nbsp;&nbsp;
                <button type="submit" class="btn btn-success" (click)="onSaveUser()"><i class="fa fa-save"></i>&nbsp;Enregistrer</button>

            </div>
        </form>
    </div>
</div>